<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Antworten speichern und drucken</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="printContent">
        <div id="saveIndicator" style="opacity: 0; transition: opacity 0.5s;">Gespeichert</div>
        <div id="subIdInfo" class="sub-id-info"></div>      
        <div id="answerBox" class="quill-editor"></div>

        <div class="attachments-section">
            <h4>Attachments</h4>
            <div class="file-input-wrapper">
                <label for="file-attachment">Attach File:</label>
                <input type="file" id="file-attachment" accept=".pdf,.txt,.docx,application/pdf,text/plain,application/vnd.openxmlformats-officedocument.wordprocessingml.document">
            </div>
            <div id="current-attachments">
                <p>No files attached.</p>
            </div>
        </div>
    </div>

    <div id="phoneUploadModal" style="display: none; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center; align-content: center;">
        <div style="background-color: white; padding: 25px; border-radius: 8px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
            <h4 style="margin-top:0;">Bild von Smartphone hinzufügen</h4>
            <p>Scannen Sie diesen QR-Code mit Ihrer Handykamera:</p>
            <div id="qrcode" style="margin: 20px auto; width: 220px; height: 220px;"></div>
            <p id="modalStatus" style="min-height: 1.5em; font-weight: bold;">Warte auf Bild-Upload...</p>
            <button id="cancelUploadBtn" style="padding: 8px 16px; font-size: 14px; cursor: pointer; background-color: #6c757d; color: white; border: none; border-radius: 4px;">Abbrechen</button>
        </div>
    </div>

    <div class="button-container">
        <button id="submitAssignmentBtn">Alle Aufträge abgeben</button>
        <button id="printAssignmentBtn">Alle Aufträge drucken</button>
        <button id="importLocalBackupBtn" style="background-color: #f57c00;">Backup einspielen</button>
    </div>

    <input type="file" id="importFileInput" accept=".json" style="display: none;">

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="script.js"></script> 
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="image-uploader.js"></script>
</body>
</html>